<% @page_description = t(:archive_description) -%>
<% @page_title = t(:archive).capitalize -%>

<% content_for :head do %>
<%= render 'head_browser_content' %>
<% end %>

<div id="browseBar" style="height:auto">
    <div id="head">
        <%= link_to t(:reset).titleize, archive_browser_path(:reset => true), :class => "blackButton right" %>
        <h2><%= t(:refine_results) %></h2>
    </div>
    <%= render @subfilter_mode ? "genre_list_subfilters" : "genre_list" %>

    <%= render @subfilter_mode ? "collection_list_subfilters" : "collection_list" %>

    <%= render @subfilter_mode ? "person_list_subfilters" : "person_list" %>

    <%= render @subfilter_mode ? "place_list_subfilters" : "place_list" %>

    <%= render @subfilter_mode ? "subject_list_subfilters" : "subject_list" %>

    <%= render @subfilter_mode ? "period_list_subfilters" : "period_list" %>
</div>
<!-- end browseBar -->
<div class="clearfix archiveBigWrapper" >

    <%= render "simple_search" %>

    <%= render "index_list" %>

    <%= render "my_archive_list" %>

    <%= render :partial => 'pagination_bar', :locals => { :items => @items, :view_mode => @view_mode, :sort_mode => @sort_mode } unless @items.empty?  %>

    <div id="search_results">
        <%= render :partial => 'browser_results_message', :locals => {:items => @items} %>

        <% unless @items.empty?  -%>
        <% if @view_mode == 'list' -%>
        <%= render :partial => 'items_list_view', :locals => { :items => @items } %>
        <% elsif @view_mode == 'grid' -%>
        <%= render :partial => 'items_grid_view', :locals => { :items => @items } %>
        <% end -%>
        <% else -%>
        <%= render :partial => 'no_items_found_view' %>
        <% end -%>
    </div>
    <%= render :partial => 'pagination_bar', :locals => { :items => @items, :view_mode => @view_mode, :sort_mode => @sort_mode }  unless @items.empty? %>
</div>

