<div class="filterbar">

  <%= form_tag({:controller => 'subjects', :action => :index, :page => 1}, :method => 'get', :id => 'subject_type_form', :name => 'subject_type_form') do -%>
    <select id="medium_filter_admin" name="subject_type_filter" onChange="$('#subject_type_form').submit()">
      <option value="all" <%= raw 'selected="selected"' if @subject_type_filter.blank? || @subject_type_filter== 'all' -%>>All Subject Types</option>
      <% @subject_types.each do |subject_type| -%>
        <option value="<%= subject_type[1] %>"<%= raw ' selected="selected"' if @subject_type_filter==subject_type[1].to_s -%>><%= truncate(subject_type[0]) %></option>
      <% end -%>
    </select>
  <% end %>

  <%= form_tag(admin_subjects_path, :method => :get) do -%>
    <%= text_field_tag :keyword_filter, t(:search_prompt), :style => "color:#aaa;",
      :onfocus => "if(this.value=='#{t(:search_prompt)}'){this.value='';this.style.color = '#000';}",
      :onblur => "if(this.value==''){this.value='#{t(:search_prompt)}';this.style.color = '#aaa';}"%>
    <%= submit_tag 'search', :name => '', :disable_with => "Searching..." %>
  <% end -%>
</div>
