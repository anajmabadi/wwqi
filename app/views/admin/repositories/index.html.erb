<% @page_description = t(:index_description) -%>

<div id="staticContent" class="clearfix">
  <div class="onecolumn">
    <div class="content nomargin">
      <%= render :partial => 'admin/admin/nav_header_bar', :locals => {:new_passed_path => new_admin_repository_path, :show_all_path => admin_repositories_path } %>

      <table class="global" width="100%" cellpadding="0" cellspacing="0">
        <tr>
          <th>Name</th>
          <th>Owner</th>
          <th>Url</th>
          <th>Publish</th>
          <th>Notes</th>
          <th>Actions</th>
        </tr>

        <% @repositories.each do |repository| %>
          <tr>
            <td><%= link_to repository.name, admin_repository_path(repository) %></td>
            <td><%= link_to repository.owner.name, admin_owner_path(repository.owner) unless repository.owner.nil? %></td>
            <td><%= link_to repository.url,repository.url unless repository.url.nil? %></td>
            <td><%= show_check repository.publish %></td>
            <td><%= truncate(repository.notes) %></td>
            <td><%= link_to image_tag("page_white_text.png", :alt => 'show'), admin_repository_path(repository) %> <%= link_to image_tag("page_white_edit.png", :alt => 'edit'), edit_admin_repository_path(repository) %> <%= link_to image_tag("delete.png", :alt => 'delete'), admin_repository_path(repository), :confirm => 'Are you sure?', :method => :delete %></td>
          </tr>
        <% end %>
      </table>
      <br class="clear" />
    </div>
  </div>
</div>
